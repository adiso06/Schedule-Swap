. Business Rules & Constraints
A swap between Resident A (PGY A, Assignment A on Date X) and Resident B (PGY B, Assignment B on Date X) is VALID if and only if ALL of the following conditions are met:

C1: 7-Day Rule:

The swap must not result in Resident A working 7 consecutive days immediately following the swap.

The swap must not result in Resident B working 7 consecutive days immediately following the swap.

"Working Day" is defined in Section 3. The check must consider the 7 days before and after the swap date to correctly assess consecutive work blocks.

Weekend Handling: Saturdays and Sundays for residents on Elective assignments (excluding CARD:CCU-* - TBC) do not count as working days for this rule, regardless of the assignment listed (unless it's explicitly OFF, Vacation, or Board-Prep which are already excluded).

C2: Explicit Non-Swappable Types:

Neither Assignment A nor Assignment B can be of a type explicitly designated as Non-Swappable (e.g., Clinic-*, Vacation, LOA-Medical). See Section 7.

C3: PGY Level Restrictions:

If PGY A is PGY1, then PGY B must be PGY1.

If PGY A is PGY2, then PGY B must be PGY2 or PGY3.

If PGY A is PGY3, then PGY B must be PGY2 or PGY3.

C4: MAR Shift Restriction:

If Assignment A is a MAR-* shift, Resident B must be PGY3.

If Assignment B is a MAR-* shift, Resident A must be PGY3.

C5: Board Prep Restriction:

If either Assignment A or Assignment B is NSLIJ:DM:IM:Board-Prep, both Resident A and Resident B must be PGY3.

C6: OFF Day Swaps: Swaps involving an OFF assignment are permitted, provided C1-C5 and C7 are met.

C7: Assignment Type Compatibility: Let Type(A) be the type of Assignment A and Type(B) be the type of Assignment B (types defined in Section 7). A swap is valid only if one of the following conditions holds:

Type(A) is Elective AND Type(B) is Elective.

Type(A) is Required AND Type(B) is Elective. (Resident B covers Resident A's required shift).

Type(A) is Elective AND Type(B) is Required. (Resident A covers Resident B's required shift).

Type(A) is Status (OFF, Board-Prep) AND Type(B) is Elective.

Type(A) is Elective AND Type(B) is Status (OFF, Board-Prep).

Type(A) is Status (OFF, Board-Prep) AND Type(B) is Status (OFF, Board-Prep).

(This implicitly prevents Required <-> Required, Required -> Status, Status -> Required swaps, and ensures Required shifts are only exchanged with Electives).

7. Assignment Classification (Preliminary - Requires Confirmation)
This table defines the rules for determining assignment type and swappability. Stakeholder confirmation is needed for items marked 'Assumed' or 'Needs Confirmation'.

Assignment Pattern

Type

Swappable

PGY Rules (if any)

Notes

OFF

Status

Yes

None

Can be swapped with Elective/Status per C7. Not a working day.

NSLIJ:DM:IM:Vacation

Status

No

N/A

Cannot be swapped (C2). Not a working day.

NSLIJ:DM:IM:LOA-Medical

Status

No

N/A

Cannot be swapped (C2). Not a working day.

NSLIJ:DM:IM:Clinic-*

Clinic

No

N/A

Cannot be swapped (C2). Is a working day.

NSLIJ:DM:PULM:MICU-*

Required

Yes (Conditional)

None

Can only swap with Elective (C7). Confirm Type. Assumed working day.

NSLIJ:DM:IM:Team-*

Required

Yes (Conditional)

None

Can only swap with Elective (C7). Is a working day.

El-* (e.g., El-Research)

Elective

Yes

None

Can swap with Elective/Required/Status per C7. Working day (Mon-Fri).

EI-* (e.g., EI-Pulm-LIJ)

Elective

Yes

None

Can swap with Elective/Required/Status per C7. Working day (Mon-Fri).

CARD:El-*

Elective

Yes

None

Can swap with Elective/Required/Status per C7. Working day (Mon-Fri).

CARD:CCU-*

Elective

Yes

None

Can swap with Elective/Required/Status per C7. Confirm Sat/Sun working.

NSLIJ:DM:IM:MAR-*

Required

Yes (Conditional)

Recipient must be PGY3.

Can only swap with Elective (C7). Is a working day.

DN:Neuro*

Required

Yes (Conditional)

None

Can only swap with Elective (C7). Confirm Type. Assumed working day.

NSLIJ:DM:IM:Board-Prep

Status

Yes (Conditional)

Both residents must be PGY3

Can swap with Elective/Status per C7. Not a working day.

NSLIJ:DM:IM:Uganda

Elective

Yes (Assumed)

None

Confirm Type. Can swap with Elective/Required/Status per C7. Working (M-F).

NSLIJ:DM:IM:Chief

Required

Yes (Conditional)

None

Can only swap with Elective (C7). Confirm Type. Assumed working day.

NSLIJ:DM:GERI:El-Geri

Elective

Yes

None

Can swap with Elective/Required/Status per C7. Working day (Mon-Fri).

NSLIJ:DM:GI:El-GI-*

Elective

Yes

None

Can swap with Elective/Required/Status per C7. Working day (Mon-Fri).

NSLIJ:DM:HO:El-HemOnc-NS

Elective

Yes

None

Can swap with Elective/Required/Status per C7. Working day (Mon-Fri).

NSLIJ:DM:ID:El-ID-NS

Elective

Yes

None

Can swap with Elective/Required/Status per C7. Working day (Mon-Fri).

NSLIJ:DM:IM:El-Procedure-LIJ

Elective

Yes

None

Can swap with Elective/Required/Status per C7. Working day (Mon-Fri).

NSLIJ:DM:IM:El-Pri-Care

Elective

Yes

None

Can swap with Elective/Required/Status per C7. Working day (Mon-Fri).

NSLIJ:DM:IM:Valley-Stream...

Elective

Yes (Assumed)

None

Confirm Type. Can swap with Elective/Required/Status per C7. Working (M-F).

NSLIJ:DM:PULM:El-Pulm-NS

Elective

Yes

None

Can swap with Elective/Required/Status per C7. Working day (Mon-Fri).

Other unique codes

TBD

TBD

TBD

Any other codes need classification.

